{% extends 'backend/template.html' %} {% block title %} Edit Data Film {%
endblock %} {% block content %}
<div class="pagetitle">
  <h1>Formulir Edit Data Film</h1>
  <nav>
    <ol class="breadcrumb">
      <li class="breadcrumb-item">
        <a href="{{ url_for('admin.dashboard') }}">Home</a>
      </li>
      <li class="breadcrumb-item">Manajemen</li>
      <li class="breadcrumb-item">
        <a href="{{ url_for('admin.data_film') }}">Data Film</a>
      </li>
      <li class="breadcrumb-item active">Edit</li>
    </ol>
  </nav>
</div>
<!-- End Page Title -->

<section class="section">
  <div class="row">
    <div class="col-lg-12">
      <div class="card">
        <div class="card-body">
          <h5 class="card-title">Edit Film: {{ film.judul }}</h5>

          <!-- Vertical Form -->
          <form
            class="row g-3"
            method="POST"
            action="{{ url_for('admin.edit_film', film_id=film.id) }}"
            enctype="multipart/form-data"
          >
            <div class="col-12">
              <label for="judul" class="form-label">Judul Film</label>
              <input
                type="text"
                class="form-control"
                id="judul"
                name="judul"
                value="{{ film.judul }}"
                required
              />
            </div>
            <div class="col-12">
              <label for="sutradara" class="form-label">Sutradara</label>
              <input
                type="text"
                class="form-control"
                id="sutradara"
                name="sutradara"
                value="{{ film.sutradara }}"
                required
              />
            </div>
            <div class="col-12">
              <label for="tahun_rilis" class="form-label">Tahun Rilis</label>
              <input
                type="number"
                class="form-control"
                id="tahun_rilis"
                name="tahun_rilis"
                value="{{ film.tahun_rilis }}"
                required
              />
            </div>
            <div class="col-12">
              <label for="genre" class="form-label">Genre</label>
              <input
                type="text"
                class="form-control"
                id="genre"
                name="genre"
                value="{{ film.genre or '' }}"
              />
            </div>
            <div class="col-12">
              <label for="sinopsis" class="form-label">Sinopsis</label>
              <textarea
                name="sinopsis"
                class="form-control"
                id="sinopsis"
                style="height: 100px"
              >
{{ film.sinopsis or '' }}</textarea
              >
            </div>
            <div class="col-12">
              <label for="gambar" class="form-label">Ganti Gambar Poster</label>
              <div class="mb-2">
                <p class="mb-1">Gambar Saat Ini:</p>
                {% if film.gambar %}
                <img
                  src="{{ url_for('static', filename='uploads/' + film.gambar) }}"
                  alt="Poster {{ film.judul }}"
                  width="100"
                />
                {% else %}
                <span class="text-muted">Tidak ada gambar.</span>
                {% endif %}
              </div>
              <input
                class="form-control"
                type="file"
                id="gambar"
                name="gambar"
                accept="image/*"
              />
              <small class="form-text text-muted"
                >Kosongkan jika tidak ingin mengganti gambar.</small
              >
            </div>
            <div class="text-center">
              <button type="submit" class="btn btn-success">Update Data</button>
              <a
                href="{{ url_for('admin.data_film') }}"
                class="btn btn-secondary"
                >Batal</a
              >
            </div>
          </form>
          <!-- Vertical Form -->
        </div>
      </div>
    </div>
  </div>
</section>
{% endblock %}
